---
title: package.json版本号控制
tags: node
categories: 
- 前端
---

## 问题

我们在开发中遇到一种情况，由于项目需要，引入了一些npm依赖包。在开发环境中，一般是在刚从仓库上拉取下来时安装依赖。但是发布到线上时，每次都会重新下载依赖包。所以如果依赖更新了，本地没有及时更新的话还是使用的老版本的代码，这时本地的代码就很有可能不能适用于线上的版本，从而出现bug。

## 原因

当安装一个新的依赖包时，我们可以看到package.json中会添加一项，例如："vux": "^2.9.2"。版本号前面这个符号就是罪魁祸首。它决定着项目在打包时，到底使用哪个版本的代码，

## 解释

^： 将会下载 <(x+1).0.0版本 >= x.y.z;

~: 将会下载  <x.(y+1).0版本 >= x.y.z; 一般用来做修复bug的版本；

*: 这意味着安装最新版本的依赖包

无符号：锁定为本版本;

推荐使用~，只会修复版本的bug，比较稳定


